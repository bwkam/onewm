@:used @:build(utils.Utils.append_config_opts())
class Main {

	@:keep
	static function main() {
		Main.setup();
		Main.inject();
	}

	@:pure(inferredPure)
	public static function extra() {
		return "echo \"hi\"";
	}

	public static function inject() {
		sys.io.File.append("config", null).writeString(Main.extra() + "\n", null);
	}

	public static function setup() {
		sys.io.File.append("config", false).writeString("", null);
		sys.io.File.append("config", false).writeString("", null);
		sys.io.File.append("config", false).writeString("", null);
	}
}