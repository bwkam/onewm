@:used @:build(utils.Utils.append_config_opts())
class Main {

	@:keep
	static function main() {
		Config.set_border_width("10");
		Config.set_top_padding("3");
		Workspaces.name(["1", "2", "3"]);
		Main.setup();
		Main.inject();
	}

	@:pure(inferredPure)
	public static function extra() {
		return "echo \"hi\"";
	}

	public static function inject() {
		sys.io.File.append("config", null).writeString(Main.extra() + "\n", null);
	}

	public static function setup() {
		var file_cnt = "";
		file_cnt = "" + Config.set_border_width("10") + "\n";
		file_cnt = file_cnt + Config.set_top_padding("3") + "\n";
		sys.io.File.append("config", false).writeString(file_cnt, null);
		sys.io.File.append("config", false).writeString("", null);
		sys.io.File.append("config", false).writeString("", null);
	}
}